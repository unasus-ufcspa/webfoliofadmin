<!DOCTYPE html>
<html>
    <head>
        <!-- Standard Meta -->
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

        <title>Administradores</title>

        <script src="/webfolioAdmin/node_modules/semantic-ui/node_modules/jquery/dist/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/webfolioAdmin/semantic/dist/semantic.min.css">

        <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/webfolioAdmin/assets/css/administradores.css">
        <script src="../assets/js/administradores.js"></script>
    </head>

    <body>
        {{ include('menuLateral.html.twig') }}
        <div id="header">
            <img src="../assets/img/person-branco.png" id="iconPessoa">
            <span id="titulo">ADMINISTRADORES</span>
        </div>
        <div id="pesquisa">
          <img src="../assets/img/lupa.png" id="iconLupa" title="Pesquisar">
          <input type="text" placeholder="Procurar Administrador" id="inputPesquisa">
          <div class="ui medium button" id="addAdmin" onclick="addAdmin();">NOVO ADMIN</div>
        </div>

       <div id="formEditAdmin" style="display:none;">
          {{ form_start(formAdmin) }}
              <div class="ui grid" >
                  <div class="twelve wide column grid">
                    <div class="rowEditar">
                      <img src="../assets/img/person-branco.png" class="iconesFormEditar">
                      {{form_row(formAdmin.NmUser, { 'attr' : { 'placeholder' : 'Nome' , 'class': 'formEditar'  }})}}
                    </div>

                    <div class="rowEditar">
                      <img src="../assets/img/arroba.png" class="iconesFormEditar">
                      {{form_row(formAdmin.DsEmail, { 'attr' : { 'placeholder' : 'E-mail' , 'class': 'formEditar'  }})}}{#TO-DO: precisa de ajustes para o formulario do controller#}
                    </div>

                    <div class="rowEditar">
                      <img src="../assets/img/lock.png" class="iconesFormEditar">
                        {{form_row(formAdmin.DsPassword.first, { 'attr' : { 'placeholder' : 'Senha' , 'class': 'formEditar'  }})}}
                    </div>

                    <div class="rowEditar">
                      <img src="../assets/img/lock.png" class="iconesFormEditar">
                      {{form_row(formAdmin.DsPassword.second, { 'attr' : { 'placeholder' : 'Confirmar Senha' , 'class': 'formEditar'  }})}}
                    </div>
                  </div>

                  <div class="four wide column grid"  id="colunaDireita">
                    <div class="rowEditar">
                      <img src="../assets/img/phone.png" class="iconesFormEditarRight">
                      {{form_row(formAdmin.NuCellphone, { 'attr' : { 'placeholder' : 'Celular' , 'class': 'formEditarRight'  }})}}
                    </div>
                    <div class="rowEditar">
                      <img src="../assets/img/rg.png" class="iconesFormEditarRight">
                      {{form_row(formAdmin.NuIdentification, { 'attr' : { 'placeholder' : 'RG' , 'class': 'formEditarRight'  }})}}
                    </div>
                    <input type="submit" id="salvarEdicao" value="SALVAR">
                    <div id="closeEditar">+</div>
                  </div>
              </div>
          {{ form_end(formAdmin) }}
        </div>

        <div class="divAddAdmin">
          {{ form_start(formAdmin) }}
          <div class="ui grid">
              <div class="twelve wide column grid">
                <div class="rowEditar">
                  <img src="../assets/img/person-branco.png" class="iconesFormEditar">
                  {{form_row(formAdmin.NmUser, { 'attr' : { 'placeholder' : 'Nome' , 'class': 'formEditar'  }})}}
                </div>

                <div class="rowEditar">
                  <img src="../assets/img/arroba.png" class="iconesFormEditar">
                  {{form_row(formAdmin.DsEmail, { 'attr' : { 'placeholder' : 'E-mail' , 'class': 'formEditar'  }})}}
                </div>

                <div class="rowEditar">
                  <img src="../assets/img/lock.png" class="iconesFormEditar">
                  {{form_row(formAdmin.DsPassword.first, { 'attr' : { 'placeholder' : 'Senha' , 'class': 'formEditar'  }})}}
                </div>

                <div class="rowEditar">
                  <img src="../assets/img/lock.png" class="iconesFormEditar">
                  {{form_row(formAdmin.DsPassword.second, { 'attr' : { 'placeholder' : 'Confirmar Senha' , 'class': 'formEditar'  }})}}
                </div>
              </div>

              <div class="four wide column grid"  id="colunaDireita">
                <div class="rowEditar">
                  <img src="../assets/img/phone.png" class="iconesFormEditarRight">
                  {{form_row(formAdmin.NuCellphone, { 'attr' : { 'placeholder' : 'Celular' , 'class': 'formEditarRight'  }})}}
                </div>
                <div class="rowEditar">
                  <img src="../assets/img/rg.png" class="iconesFormEditarRight">
                  {{form_row(formAdmin.NuIdentification, { 'attr' : { 'placeholder' : 'RG' , 'class': 'formEditarRight'  }})}}
                </div>
                <input type="submit" id="salvarEdicao" value="SALVAR" >
                <div id="closeAdd" onclick="closeAddAdmin();">+</div>
              </div>
          </div>
          {{ form_end(formAdmin) }}
        </div>

        <h2 id="naoEncontrado">Nenhum resultado encontrado</h2>

        <div id="listaAdmins">
            {% set i=0 %}
            {% for administrador in administradores %}
                {% if i is even %}                                              <!--Testa se é par ou ímpar só pra poder aplicar o CSS no item da lista-->
                    <div class="itemAdminA itemUsuario">
                        <input type="checkbox" name="Administrador" value="{{administrador.idUser}}" id="{{i}}" class="checkboxAdmin"> <!--O id desse item tem que ser o contador pra que o checkbox funcione-->
                        <label for="{{i}}"></label>                             <!--Dentro desse for vai o id que foi colocado no checkbox pra que um fique ligado ao outro-->
                        <div class="nomeTutor">{{administrador.nmUser}}</div>
                        <div class="emailTutor">{{administrador.dsEmail}}</div>
                        <img src="../assets/img/buttonPencil.png" class="iconEditar" title="Editar administrador" onclick="editarAdministrador({{i}});">
                    </div>
                {% else %}
                    <div class="itemAdminB itemUsuario">
                        <input type="checkbox" name="Administrador" value="{{administrador.idUser}}" id="{{i}}" class="checkboxAdmin">
                        <label for="{{i}}"></label>
                        <div class="nomeTutor">{{administrador.nmUser}}</div>
                        <div class="emailTutor">{{administrador.dsEmail}}</div>
                        <img src="../assets/img/buttonPencil.png" class="iconEditar" title="Editar administrador" onclick="editarAdministrador({{i}});">
                    </div>
                {% endif %}
                <div class="editarAdmin" id="{{i}}">
                </div>
                {% set i = i+1 %}
            {% endfor %}

            {%if administradores is empty %}
                <h2 id="adminEmpty">Não há administradores cadastrados</h2>
            {%endif%}
        </div>

        <div id="excluirUsuario">
            <div id="titleExcluir">Excluir</div>
            <div id="mensagemExcluir">Tem certeza que deseja excluir esse administrador?</div>
            <div id="optionExcluir">
              <div id="cancelarExcluir">CANCELAR</div>
              <div id="confirmarExcluir">SIM</div>
            </div>
        </div>
        <div id="alertEditar">
            <div id="titleAlert">Descartar edição</div>
            <div id="mensagemAlert">As alterações feitas serão perdidas. Deseja voltar a editar esse administrador?</div>
            <div id="optionAlert">
              <div id="sairEditar">Sair</div>
              <div id="voltarEditar">SIM</div>
            </div>
        </div>
        <div id="delete">
           <img src="../assets/img/lixo.png" id="iconDelete" title="Excluir item">
        </div>
    </body>
</html>
<script src="../assets/js/administradores.js"></script>
